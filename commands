
#### Create clones:
mkdir BITBUCKET
cd BITBUCKET/
git clone git@bitbucket.org:montimage/mmt-correlator.git
git clone git@bitbucket.org:montimage/mmt-probe.git
git clone git@bitbucket.org:montimage/mmt-sdk.git

#### Make sdk libs
cd mmt-sdk/
cd sdk/
make
sudo make install

#### Compile probes
cd ../mmt-probe/
gcc -I/opt/mmt/include -g -o probe src/smp_main.c src/processing.c src/thredis.c -L/opt/mmt/lib -lmmt_core -lmmt_tcpip -ldl -lpcap -lconfuse -lpthread -lhiredis
gcc -I/opt/mmt/include -g -o simple_probe src/main.c -L/opt/mmt/lib -lmmt_core -lmmt_tcpip -ldl -lpcap

#### Modular Probe
gcc -g -o probe src/smp_main.c  src/processing.c src/web_session_report.c src/thredis.c src/send_msg_to_file.c src/send_msg_to_redis.c src/rtp_session_report.c src/event_based_reporting.c src/protocols_report.c src/ssl_session_report.c src/default_app_session_report.c src/microflows_session_report.c src/radius_reporting.c src/security_analysis.c src/parseoptions.c src/license.c  src/ftp_session_report.c src/ip_statics.c -lmmt_core -lmmt_tcpip -lmmt_security -lxml2 -ldl -lpcap -lconfuse -lhiredis -lpthread

####Create link to plugins
mkdir plugins
cd plugins/
ln -s /opt/mmt/lib/libmmt_tcpip.so libmmt_tcpip.so

#### Execute
vi mmt.conf
sudo su
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:../mmt-sdk/sdk/lib
./probe -c ./mmt.conf
./probe -c ./mmt_offline.conf
./probe -c ./mmt_online.conf


/usr/bin/redis-server
node app.js -d mongo
./probe -c mmt_offline_p1p1.conf
./execute 2
