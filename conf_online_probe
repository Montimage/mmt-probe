#!/bin/bash

# description: mmt-probe
# Start the service mmt-probe
start() {
        echo  "Starting mmt-probe: "
        (while true; do 
	echo "online running"
        /opt/mmt/bin/onlineprobe -c /opt/mmt/conf/mmt_online.conf
        done) &    
        echo
}

# stop the service mmt-probe
stop() {
        echo "Stopping mmt-probe_online: "
        sudo killall -9 "onlineprobe"
	echo "mmt stopped"
        sudo killall -9 "run_mmt_online"
}

# restart the mmt-probe 
restart () {

        stop 
        start

}
### main logic ###
case "$1" in
  start)
        start
        ;;
  stop)
        stop
        ;;
  status)
        status mmt-probe_online
        ;;
  restart)
        restart
        ;;
  *)
        echo $"Usage: $0 {start|stop|restart|status}"
        exit 1
esac
exit 0
